안녕하십니까?
서울시의 초등학교 취학률에 관한 분석을 하고 있는 statmania조입니다.
이번주에는 지난주에 얘기했듯이 본격적으로 데이터를 분석하는 시간을 가질건데요,

/슬라이드 넘김/
그전에 저희가 지난주에 소개한 데이터에 문제점들이 발견되어서 수정을 실시하였습니다.
서울특별시 교육청에 의하면 저희 데이터 안에 있는 취학률은
다음과 같은 방법으로 취학대상자와 취학자를 산정해서 구해진 수치였습니다.
이 대목에서 발견한 문제점 중 하나는 저희가 2000년대 중,후반에 유행하던
초등학교 취학유예에 관한 조사를 하지 않았다는 것입니다.

/슬라이드 넘김/
그리고 서울시민들의 경제적인 상황을 충분히 고려하지 않았다는 생각도 들었고,

/슬라이드 넘김/
우리나라의 국적을 취득한 외국인들의 자녀들도 의무교육의 대상자라는 점을
놓치고 있었다는 것을 깨달았습니다. 데이터에 관한 깊이있는 통찰력이
부족해서 발생한 오류라고 저희들은 생각합니다.

/슬라이드 넘김/
저희가 분석할 데이터에는 2006년부터 2011년까지의 수치가 기록되어 있습니다.
이 기사에서 주목할 점은 우리나라에서 2000년대 초반에는 조기입학이,
2000년대 중,후반에는 입학을 유예하는 경우가 많았다는 점입니다.
하지만 지금에 들어서는 오히려 제 나이에 입학하는 case로 회귀하고 있다는 점이
흥미롭습니다.
저희가 분석할 데이터는 2000년대 중,후반과 관련있기 때문에 입학유예와 관련있는
변수를 추가하는 것이 타당하겠네요.

/슬라이드 넘김/
최종적으로 저희는 다음과 같이 경제활동인구, 영주권 취득한 외국인수, 그리고 미취학 아동수
이렇게 3개의 설명변수를 분석에 추가하기로 결정을 내렸고,
조기입학에 관한 점도 생각을 했지만 저희가 가진 데이터의 시기와 맞지 않으므로
생략하기로 하였습니다.

/슬라이드 넘김/
마지막으로 저희가 발견한 또 하나의 아쉬웠던 점은
데이터의 지역을 자치구별로만 분류를 했기 때문에 세밀한 분석을 하기 어려울것이란 점이었습니다.
현재 우리나라의 수도 서울에는 총 25개의 자치구들이 있습니다.
하지만 그 자치구들을 구성하는 여러 동들이 있다는 것을 확인하였고
저희는 원래의 데이터를 동별로 다시 나누고 재정렬을 실시하였습니다.

/슬라이드 넘김/
결과적으로 다음과 같이 더 세밀화된 데이터를 얻을 수 있었습니다.

/슬라이드 넘김/
그리고 설명변수의 개수는 새로 포함된 변수들을 포함해 총 19개가 되었으며,
반응변수는 서울시의 초등학교 취학률입니다.

/슬라이드 넘김/
이제 본격적으로 데이터에 대한 몇 가지 분석을 해보도록 하겠습니다.
이번주에는 취학률이 시간과 지역에 따라 다르다고 할 수 있는지,
그리고 영주권을 취득한 외국인수와 미취학 아동수가 취학률에 유의한 영향을 주는지 알아보도록 하겠습니다.
분석은 오픈 통계 패키지 R로 실시하였습니다.

/슬라이드 넘김/
먼저 연도에 관한 문제입니다.

/슬라이드 넘김/
시간이 지나감에 따라 사회의 trend은 변화하게 됩니다.
그래서 저희로서는 그 변화가 초등학교 취학률에도 영향력을 행사하는지
알아보고 싶었습니다.

/슬라이드 넘김/
다음에 나타난 boxplot은 2006년부터 2011년까지의 취학률에 관한 것입니다.
어떤 느낌이 드시는지요?
그림을 보면 2008년에서 2009년으로 넘어갈 때 취학률이 급격하게 증가하는 것을 확인할 수 있죠.
아마도 앞에서 본 기사에 나온것처럼 제 나이 입학으로의 회귀가 취학률에
영향을 준 것으로 보여집니다.

/슬라이드 넘김/
이를 확인하기 위해 다음과 같이 일원배치법을 이용하여 분석을 실시했습니다.
결과를 보면 유의확률이 굉장히 작은 값이므로 
연도에 따른 취학률에 차이가 없다는 귀무가설을 기각하기 때문에
연도별로 취학률에 변화가 있었다고 말할 수 있겠습니다.

/슬라이드 넘김/
하지만 과연 이 분석이 타당하다고 할 수 있을까요?
이 분석법에는 잔차가 정규성을 띈다는 가정이 있습니다.
이를 확인해보기 위해 잔차에 관한 분위수 그림을 그려봤습니다.
직선에 근접하지 않은 점들이 많은 것으로 보아 문제가 있다고 판단되는데요,

/슬라이드 넘김/
이를 위해 Shapiro-Wilk 정규성 검정을 실시하였습니다.
유의확률이 매우 작은 값이므로 다음의 귀무가설을 기각하게 되고
정규성에 문제가 있다는 결과를 제시하고 있습니다.
그래서 더 정확한 결과를 위해 분포를 가정하지 않는 비모수적인 검정을 실시를 해보는것이 좋겠는데요,

/슬라이드 넘김/
여기에 해당하는 방법이 Kruskal-Wallis 순위합 검정법입니다.
이 검정법은 순수하게 데이터의 순위만으로 검정을 실시하기 때문에
데이터에 이상점이 있을 때 사용해볼만한 방법입니다.
결과적으로 일원배치법과 같은 결과를 주고 있네요.
이는 연도에 따라 취학률은 변화했다는 근거가 되고

/슬라이드 넘김/
취학률 역시 사회적인 trend의 손아귀에서는 벗어나기 힘들었다는 걸 확인할 수 있겠습니다.

/슬라이드 넘김/
이제 두번째 질문인데요,
아마 여러분들도 인터넷이나 뉴스 등의 매체를 통해 지역간의 격차에 관한 소식을 
많이 접해보셨을거라 생각됩니다.

/슬라이드 넘김/
그렇다면 과연 이 취학률도 그러한 특징이 있는지 한번 알아보도록 하겠습니다.

/슬라이드 넘김/
다음 boxplot은 자치구에 따른 취학률을 나타내고 있습니다.
특별히 강남구와 용산구가 그 외 다른 지역에 비해 취학률이 두드러지게 낮은 점이 특징인데요,
자치구에 따른 취학률의 차이가 크지 않다고 주장하기에는 무리일 듯 합니다.
자치구마다 차이가 있다면 동에 따라서도 다를 것이라는 생각이 드네요.

/슬라이드 넘김/
이를 확인하기 위해 자치구와 동에 따라 각각 일원배치법을 실시해봤습니다.
보시는 것과 같이 유의확률이 굉장히 작기 때문에 자치구에 따라서는 차이가 있다고 보여지고,

/슬라이드 넘김/
다음은 동에 따른 일원배치법 결과인데요,
역시 유의확률이 굉장히 작기 때문에 boxplot을 통해 미리 예상했던대로 차이가 유의하다는 결과를 주고 있습니다.

/슬라이드 넘김/
하지만 이러한 방법은 앞에서도 설명을 드렸듯이
자주 쓰이는 방법이기는 하지만 적절한 가정이 만족되어야 타당성이 있기 때문에
첫번째 질문에서 했던 것과 같이 분위수 그림과 정규성 검정을 통해서
잔차의 정규성을 판단해보도록 하겠습니다.
먼저 자치구에 따른 분석에 대한 결과입니다.

/슬라이드 넘김/
그 다음 동에 따른 분석결과인데요, 어떤 생각이 드시는지요?
저희 생각에는 문제가 있다고 판단이 됩니다.

/슬라이드 넘김/
그래서 정규성 검정을 실시해봤는데 두 경우 모두 유의확률이 굉장히 작다는 걸 확인할 수 있죠.
그러므로 잔차가 정규성을 띈다고 주장하기에는 좀 무리가 있다고 보여집니다.

/슬라이드 넘김/
그렇기 때문에 이번에도 첫번째 문제와 마찬가지로 분포와 무관한 비모수적인 검정을 실시해보겠습니다.

/슬라이드 넘김/
그 결과 다음과 같은 결과가 출력되는데,
두 결과 모두 차이가 유의하다는 결과이고 결론적으로 모수적 방법인
일원배치법과 같은 결과를 주고 있습니다.
결국 취학률 또한 지역에 따른 격차가 존재한다고 판단할 수 있고,
이러한 문제점을 최소화하기 위해 서울시에서 각별한 관심과 노력을 기울여야 할 것으로 보입니다.

/슬라이드 넘김/
이제 마지막으로 우리나라의 시민권을 얻은 외국인과 취학 유예 아동수를 포함한
미취학 아동수에 관한 문제인데요,

/슬라이드 넘김/
세계가 global화됨에 따라 우리나라에도 많은 외국인들이 방문하고 있고,
우리나라의 시민권을 취득한 외국인들도 많이 있습니다.
이 외국인들이 결혼을 해서 자녀를 얻게 되면 그 자녀들도
우리나라의 의무교육 대상자가 됩니다. 하지만 일반적으로 이 아이들은
일반적인 우리나라의 초등학교에 입학을 하지 않고 대부분 우리나라에서 따로 세운
외국인들을 위한 학교에 입학을 하게 됩니다. 그러므로 취학률에 영향을 줄 거라고 예상을 해 볼 수 있겠습니다.

/슬라이드 넘김/
또한 2000년대 중,후반에 유행했던 입학유예도 
초등학교 취학률의 변화에 한몫을 했을 것으로 보여집니다.

/슬라이드 넘김/
다음에 나타난 그림은 영주권을 취득한 외국인수에 로그를 취한 값과 취학률에 관련된 그림입니다.
어떤 생각이 드시는지요?

/슬라이드 넘김/
이 그림은 미취학 아동수에 로그를 취한 값과 취학률에 관련된 그림입니다.
두 설명변수에 로그를 취한 이유는 로그를 취하지 않고 그래프를 그리게 되면
데이터의 퍼짐 정도와 분포를 가늠해보기 어렵기 때문이었습니다. 
크지는 않지만 어느 정도 상관관계가 존재하는 것처럼 보여지는데요,

/슬라이드 넘김/
다음과 같이 다중회귀분석을 실시해봤습니다.
특별히 영주권이 있는 외국인의 수가 미취학 아동수에 영향을 미칠거라는 생각이 들어서
교호작용까지 추가를 해봤습니다.
보시면 다음과 같이 모든 유의확률들의 값이 0.05보다는 작은 값이기 때문에
두가지 변수가 모두 유의하다는 결과를 주고 있고,
교호작용 또한 유의하다는 결과입니다.

/슬라이드 넘김/
그리고 다음과 같이 분산분석표를 작성해봤습니다.
앞의 결과와 동일한 결과를 주고 있음을 확인할 수 있겠습니다.

/슬라이드 넘김/
추가적으로 영주권을 취득한 외국인 수와 미취학 아동수 사이에 상관관계가 있는지 검정을 실시해봤습니다.
결과적으로 유의확률의 값이 매우 작기 때문에 두 변수간의 상관관계가 유의하다는 결과입니다.

/슬라이드 넘김/
이 그림은 앞의 두 변수간의 상관관계에 대한 plot입니다.
음의 상관관계가 존재하는 것으로 보여지는데요, 이는 의무교육 대상자인 영주권 외국인의 자녀들이
우리나라의 초등학교에 입학을 하는 일이 거의 없기 때문인 것으로 판단됩니다.

/슬라이드 넘김/
그리고 회귀식에 대한 유의성도 존재하는 것으로 보여집니다.
결국 영주권이 있는 외국인 수와 미취학 아동수 사이에는 음의 상관관계가 존재한다는 것이므로
다중회귀분석시 다중공선성의 문제가 있을 수 있으니 분석시 주의를 해야 하겠습니다.
그리고 명심할 점은 지금의 분석결과에서 이 두 변수가 취학률에 유의한 영향을
미친다는 결과가 나왔다고 하더라도 실질적으로 변수선택을 실시하게 되면
오히려 이 두 변수의 영향력이 높게 나오지 않을 수도 있습니다.
이런 점도 염두해 두어야 하겠습니다.
 
/슬라이드 넘김/
다음주에는 PCA, 즉 데이터마이닝에서 자주 쓰이는 기법 중 하나인
주성분 분석을 통해서 자치구, 동, 년도를 제외한 나머지 16개의 설명변수들 중 
많은 정보를 포함하고 있다고 여겨지는 변수를 선택해볼 것이며,
선택된 변수들과 취학률간의 관계를 나무모형 등을 통해 다시 한번 살펴볼 것입니다.

/슬라이드 넘김/
이번주 발표는 여기까지입니다. 감사합니다.
 